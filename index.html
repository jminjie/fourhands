<!DOCTYPE html>
<html>
<head>
<title>Fourhands</title>
<link rel="icon" type="image/png" href="/favicon.png"/>
</head>
<body>
  <link rel="stylesheet" href="css/style.css">
  <h1>Fourhands is a P2P piano</h1>
  <ol>
  <li>Share the URL with another player</li>
  <li>Plug in a MIDI keyboard</li>
  <li>Click to manually enable audio</li>
  <button id="play-button">Enable audio</button>
  <li>You should be able to hear your own playing as well as the other player in the room.</li>
  <li>See <a href="https://jminjie.github.io/samples">this page</a> for more samples.</li>
  </ol>
  <div style="border:1px solid #000;padding:15px;background-color:powderblue;display:inline-block">
  <button onclick="onSetMySamplerButtonPress()">Set my sampler</button>
  <input type="text" id="mysamplerurl" size="50" value="https://jminjie.github.io/samples/classic/">
  Release: <input type="number" min="0" max="1" step="0.1" id="mysamplerrelease" size="5" value="0.6">
  Gain: <input type="number" min="0" max="2" step="0.1" id="mygain" size="5" value="0.3">
  </div>
  <br>
  <br>
  <div style="border:1px solid #000;padding:15px;background-color:#F9E79F;display:inline-block">
  <button onclick="onSetTheirSamplerButtonPress()">Set their sampler</button>
  <input type="text" id="theirsamplerurl" size="50" value="https://jminjie.github.io/samples/drum/">
  Release: <input type="number" min="0" max="1" step="0.1" id="theirsamplerrelease" size="5" value="0.6">
  Gain: <input type="number" min="0" max="2" step="0.1" id="theirgain" size="5" value="0.8">
  </div>
  <br>
  <br>
  <div style="border:1px solid #000;padding:15px;background-color:lightgrey;display:inline-block">
  <button onclick="beginLoop()" id="startLoopButton">Record loop</button>
  <button onclick="finishLoop()" id="stopLoopButton">End record</button>
  <button onclick="playPauseLoop()" id="playPauseLoopButton">Play/pause</button>
  <br>
  <br>
  <button onclick="onSetLoopSamplerButtonPress()">Set loop sampler</button>
  <input type="text" id="loopsamplerurl" size="50" value="https://jminjie.github.io/samples/classic/">
  Release: <input type="number" min="0" max="1" step="0.1" id="loopsamplerrelease" size="5" value="0.6">
  Gain: <input type="number" min="0" max="2" step="0.1" id="loopgain" size="5" value="0.3">
  </div>
  <h2>Diagnostics</h2>
  <p id="browser-status"></p>
  <p id="peer-status">No peer connected.</p>
  <p id="midi-status">No MIDI device detected. Try refreshing or use the keys ASDFGHJK.</p>
  <button id="send">Send test p2p message</button>
  <p>For seamless jamming, one-way time of 20 ms or less is ideal. Typically this can be achieved on
  wired connections for fairly nearby players (within 35 miles / 50 km).</p>
  <pre>Round trip time (ms): <span id="ping"></span></pre>
  <pre>Est oneway time (ms): <span id="ping2"></span></pre>
  <br>
  <br>
  <br>
  <br>
  <br>
  <script src="https://unpkg.com/tone"></script>
  <script src="/socket.io/socket.io.js"></script>
  <script src="https://webrtc.github.io/adapter/adapter-latest.js"></script>
  <script src="js/main.js"></script>
  <footer id="footer" style="text-align:center;">
      <p><b>View this project on <a href="https://github.com/jminjie/fourhands">Github</a></b></p>
      <script type="text/javascript" src="https://cdnjs.buymeacoffee.com/1.0.0/button.prod.min.js" data-name="bmc-button" data-slug="jminjie" data-color="#FFDD00" data-emoji=""  data-font="Cookie" data-text="Buy me a coffee" data-outline-color="#000000" data-font-color="#000000" data-coffee-color="#ffffff" ></script>
  </footer>
</body>
</html>
